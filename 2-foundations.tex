% !TEX root = 7350.tex

\section{Foundations}

\subsection{Absolute values and valuations}

A good source for this section is the textbook \cite{engler-prestel}. 
Fix a field $K$ for the remainder of the section. 

\begin{definition}
An \emph{absolute value} (norm) on $K$ is a function $|\cdot|\colon K\to \bR$ 
with the following properties: 
\begin{enumerate}
\item
$|x|=0$ if and only if $x=0$

\item
$|xy|=|x| |y|$

\item $|x+y|\leqslant |x|+|y|$. 
\end{enumerate}
\end{definition}

Eventually, we will relax many of these requirements. The obvious examples 
are $\bR$, $\bC$ with the standard absolute value. The definition has some 
immediate consequences. 

\begin{lemma}
Let $(K,|\cdot|)$ be a field with absolute value. Then 
\begin{enumerate}
\item $|1|=1$
\item $|1/x|=1/|x|$
\item If $x\in \bmu(K)$, then $|x|=1$
\item $|-x|=|x|$
\item $|\cdot|\colon K^\times\to \bR^{>0}$ is a group homomorphism
\end{enumerate}
\end{lemma}

Given an absolute value, we can define a metric on $K$ by 
\[
  d(x,y) = |x-y| ,
\]
hence $K$ becomes a topological space. We call the topology induced by 
$|\cdot|$ the \emph{canonical} topology on $K$. To be pedantic, $U\subset K$ 
is open if for all $u\in U$, there exists $r>0$ such that the ``open disk''
\[
  \disk^-(a,r) = \{x\in K:|x-u|<r\}\subset U .
\]

\begin{lemma}
The topology induced by $|\cdot|$ is discrete if and only if $|\cdot|$ is 
the ``stupid'' absolute value (also known as the trivial absolute value) 
given by 
\[
  |x|=\begin{cases} 1 & x\ne 0 \\ 0 & x=0 \end{cases} .
\]
\end{lemma}
\begin{proof}
Indeed, $\Leftarrow$ is trivial. Showing $\Rightarrow$ is not trivial. If 
$|\cdot|$ is not trivial, then there exists $x\in K$ with 
$0<|x|<1$. The sequence $\{x^n:n\geqslant 1\}$ converges to zero because 
$|x^n|=|x|^n\to 0$. Since we're in a field, no $x^n=0$, so $\{0\}$ is 
\emph{not} open. 
\end{proof}

In fact, we get a topological field: addition, multiplication, and inversion 
are all continuous. Moreover, $K$ is Hausdorff under the canonical topology. 
So far so good. Given an absolute value on a field, we get a Hausdorff topological 
field. However, much of the course will be centered around remedying various 
defects of the canonical topology. 

\begin{lemma}
If $|\cdot|$ is an absolute value on $K$ and $0<e\leqslant 1$, then 
$|\cdot|^e$ is also an absolute value on $K$. 
\end{lemma}
\begin{proof}
$|\cdot|^e$ is trivially multiplicative. Showing the triangle inequality 
is harder, and needs $e\leqslant 1$. It turns out that if $|\cdot|$ is 
non-archimedean, then $e>1$ works as well. 
\end{proof}

\begin{theorem}\label{thm:field-equiv-abs}
Let $|\cdot|$, $|\cdot|'$ be two absolute values on $K$. These induce the 
same topology on $K$ if and only if there exists $e>0$ such that 
$|\cdot|'=|\cdot|^e$. 
\end{theorem}
\begin{proof}
$\Leftarrow$ is obvious. For the converse, see [cite source]. 
\end{proof}

Recall that for any field (commutative ring, even) $K$, there is a unique 
unital ring homomorphism $\bZ\to K$, determined by $1\mapsto 1$. 

\begin{definition}
Let $|\cdot|\colon K\to \bR$ be an absolute value. Let $f:\bZ\to K$ be the 
unique ring map. If $\image(f)$ is bounded in $\bR$, we say $|\cdot|$ is 
\emph{non-archimedean}. 
\end{definition}

This is a topological condition. In other words, if $|\cdot|$ and $|\cdot|'$ 
are equivalent absolute values, then one is non-archimedean if and only if the 
other is. 

\begin{example}
The trivial absolute value is non-archimedean. 
\end{example}

\begin{example}
If $K$ has positive characteristic, all absolute values on $K$ are 
non-archimedean. Indeed, the image of $\bZ\to K$ consists of 
$\{0\}\cup \bF_p^\times$; the latter set consists of $(p-1)$-st roots of 
unity. So $|n|\leqslant 1$ for all $n\in \bZ$. 
\end{example}

\begin{example}
The field $\bQ$ with its usual absolute value $|\cdot|_\infty$ is archimedean. 
\end{example}

\begin{theorem}\label{thm:non-arch-characterization}
An absolute value $|\cdot|$ on $K$ is non-archimedean if and only if for all 
$x,y\in K$, 
\begin{equation}\label{eq:triangle}
  |x+y|\leqslant \max\{|x|,|y|\} .
\end{equation}
\end{theorem}
\begin{proof}
$\Leftarrow$ is easy. Indeed, $|n|\leqslant 1$ by induction on $n$. 

$\Rightarrow$ is more subtle. There exists some $C$ such that 
$|n|\leqslant C$ for all $n\in \bZ$. We use the binomial theorem: 
\begin{align*}
  |(x+y)^n| 
    &= \left|\sum \binom n i x^i y^{n-i} \right| \\
    &\leqslant \sum \left|\binom n i \right| |x^i y^{n-i}| \\
    &\leqslant C(n+1)\max\{|x|,|y|\}^n .
\end{align*}
Taking $n$-th roots of both sides, we obtain 
\[
  |x+y|\leqslant \sqrt[n]{C(n+1)} \max\{|x|,|y|\} .
\]
Letting $n\to \infty$, we obtain the result. 
\end{proof}

The inequality \eqref{eq:triangle} is called the ultrametric inequality in 
older sources. Today, it is generally called the non-archimedean triangle 
inequality. Since the non-archimedean triangle inequality holds when raised to 
arbitrary positive powers, if $|\cdot|$ is non-archimedean, then 
$|\cdot|^e$ is an absolute value for all $e>0$. 

The following simple lemma is quite important. 

\begin{lemma}\label{lem:abs-value-of-difference}
In a non-archimedean field, if $|x|\ne |y|$, then 
$|x+y|=\max\{|x|,|y|\}$. 
\end{lemma}
\begin{proof}
We may assume $|x|<|y|$. We need to show $|x+y|=|y|$. If not, we have 
$|x+y|<|y|$. But 
\[
  |y|=|y+x-x| \leqslant \max\{|y+x|,|x|\} < y ,
\]
a contradiction. 
\end{proof}





\subsection{Topological consequences}

\subsubsection{Center of a disk}

Let $(K,|\cdot|)$ be a non-archimedean field. Let $a,a'\in K$ with 
$|a-a'|\leqslant r$ for some $r>0$. Then $|x-a|\leqslant r$ if and only if 
$|x-a'|\leqslant r$. In other words: \emph{all points in a disk of radius $r$ 
are the center of the disk}! In other words, any point in the set  
\[
	\disk(a,r) = \{x\in K:|x-a|\leqslant r\} ,
\]
is a ``center'' of $\disk(a,r)$. To see this, suppose $|x-a|\leqslant r$. Then 
\begin{align*}
  |x-a'| 
    &= |x-a+a-a'| \\
    &\leqslant \max\{|x-a|,|a-a'|\} \\
    &\leqslant r .
\end{align*}

\subsubsection{Clopen sets}
Clearly the ``closed disk'' $\disk(a,r)$ is closed with respect to the canonical 
topology. (This works for any metric space.) The terrible problem with 
non-archimedean fields is that $\disk(a,r)$ is also open! Indeed, let 
$x_0\in \disk(a,r)$ (so $|x_0-a|\leqslant r$) and consider the ``open ball'' 
\[
  \disk^-(x_0,r) = \{x\in K:|x-x_0|<r\} .
\]
We have $\disk^-(x_0,r)\subset \disk(a,r)$. 

\subsubsection{Boundaries}
Contrary to intuition, in a non-archimedean field, the set 
$\{x\colon |x-a|=r\}$ is \emph{not} the topological boundary (closure 
$\smallsetminus$ interior) of $\disk(a,r)$. In fact, any small neighborhood of 
a point in this set is contained in $\disk(a,r)$. 

\subsubsection{Disconnectedness}
Putting everything together, the canonical topology on $K$ is totally 
disconnected. In other words, the only non-empty connected components are 
singletons. Indeed, let $x_0\in K$, and let $A$ be the connected component 
containing $x_0$. Assume $x_1\ne x_0$ is also in $A$. Let 
$|x_1-x_0|>r>0$. Then 
\[
  A = \left(A\cap \disk(r,x_0)\right) \sqcup \left(A\smallsetminus \disk(r,x_0)\right) 
\]
is a decomposition of $A$ into a disjoint union of open nonempty subsets. 





\subsection{Ostrowski's theorem}

Consider the field $\bQ$. We already know of the following absolute values: 
\begin{enumerate}
\item
$|\cdot|_\infty^e$ for any $0<e\leqslant 1$.

\item 
$|\cdot|_0$, the trivial absolute value.

\item 
For each prime $p$, we have an absolute value $|\cdot|_p^e$ for any $e>0$. Recall 
that for any $\frac a b\in \bQ$, write $\frac a b=p^\alpha \frac{a'}{b'}$ for 
$a',b'$ not divisible by $p$. One has $|a/b|_p^e = (p^e)^{-\alpha}$. We 
generally normalize by requiring $|p|_p = 1/p$; there are good analytical 
reasons from this involving normalization of Haar measures. 
\end{enumerate}

The field $\bQ$ is totally disconnected for all these topologies. For 
$|\cdot|_\infty$, this can be solved via completion. For the $p$-adic and 
trivial absolute values, we need Berkovich's theory. 

\begin{theorem}[Ostrowski]\label{thm:ostrowski}
All absolute values on $\bQ$ are, up to topological equivalence, of the form 
$|\cdot|_0$, $|\cdot|_\infty$, or $|\cdot|_p$ for some $p$. 
\end{theorem}
\begin{proof}
Let $|\cdot|$ be an absolute value on $\bQ$. 

Case 1: $|\cdot|$ is non-archimedean. Then $|n|\leqslant 1$ for all $n\in \bZ$. 
If $|p|=1$ for all primes $p$, then by unique factorization, $|\cdot|$ is the 
trivial absolute value. If there exists a prime $p$ for which $|p|<1$, there is 
no $l\ne p$ prime such that $|l|<1$. For, since $l$ and $p$ are coprime, there 
is $x,y\in \bZ$ for which $p x+l y=1$. But then 
\[
  1 = |1| = |p x+l y| \leqslant \max\{|p x|,|p y|\} < 1 ,
\]
a contradiction. So $|p|<1$ for a unique $p$. After possibly replacing 
$|\cdot|$ by an equivalent absolute value, we may assume $|p|=1/p$. Unique 
factorization, combined with $|l|=1$ ($l\ne p$) tells us that 
$|\cdot|=|\cdot|_p$. 

Case 2: $|\cdot|$ is archimedean. There exists $n\in \bZ^{>0}$ such that 
$|n|>1$; let $n_0$ be the smallest such $n$. Write $|n_0|=n_0^\alpha$. Given 
$n\in \bZ^{>0}$, we need to show $|n|=|n|_\infty^\alpha$. Write $n$ in base $n_0$: 
\begin{equation}\label{eq:base-n}
  n = a_0 + a_1 n_0 + \cdots + a_s n_0^s ,
\end{equation}
where each $0\leqslant a_0<n_0$ and $a_s\ne 0$. First we show 
$|n|\leqslant |n|_\infty^\alpha$. Put $C=\sum_{i\geqslant 0} n_0^{-\alpha i}$; 
then 
\begin{align*}
  |n| 
    &= \bigg|\sum_{i=0}^s a_i n_0^i\bigg| \\
    &\leqslant \sum_{i=0}^s |a_i| |n_0|^i \\
    &\leqslant \sum_{i=0}^s n_0^{\alpha i} \\
    &\leqslant n_0^{s\alpha} (1+n_0^{-\alpha} + n_0^{-2\alpha} + \cdots) \\
    &\leqslant C n^\alpha .
\end{align*}
So $|n^N|\leqslant C n^{\alpha N}$ for all $N$. Thus 
$|n|\leqslant \sqrt[N]{C} n^\alpha$; letting $N\to \infty$ yields 
$|n|\leqslant n^\alpha$. Now we prove $|n|\geqslant n^\alpha$. Once again 
write $n$ in base $n_0$ as in \eqref{eq:base-n}. We get 
\begin{align*}
  |n_0^{s+1}| 
    &\leqslant |n|+|n_0^{s+1}-n| \\
    &\leqslant |n|+(n_0^{s+1}-n)^\alpha \\
    &\leqslant |n|+(n_0^{s+1}-n_0^s)^\alpha .
\end{align*}
It follows that
\[
  |n| 
    \geqslant n_0^{\alpha(s+1)} \left(1-\left(1-\frac{1}{n_0}\right)^\alpha\right) \\
    \geqslant C' n^\alpha ,
\]
where as above $C'$ does not depend on $n$. The same trick (raise to $N$, let 
$N\to \infty$) yields the result. 
\end{proof}

There are versions of Ostrowski's theorem for arbitrary Dedekind domains, or 
function fields like $\bF_p(t)$. 





\subsection{Completion}\label{sec:completion}

Here, will discuss ``completion'' in the sense of metric spaces. One can also 
``complete'' topological spaces; there is a more general notion of completion 
that works for ``uniform spaces,'' which are topological spaces together with a 
uniform structure. We will focus on metrics coming from absolute values. 

\begin{definition}
A metric space is \emph{complete} if every Cauchy sequence converges. 
\end{definition}

Let $K$ be a field with absolute value $|\cdot|$. Note that $(K,|\cdot|)$ is 
complete if and only if $(K,|\cdot|^e)$ is complete, so completeness of a field 
is a topological property. 

\begin{example}
The field $\bQ$ with $|\cdot|_0$ is complete (Cauchy sequences stabilize). 
\end{example}

\begin{example}
The field $\bQ$ with $|\cdot|_\infty$ is \emph{not} complete. It's completion 
is denoted $\bR$; this is as nice as we could hope for (as a topological 
space). 
\end{example}

\begin{example}
The field $\bQ$ with $|\cdot|_p$ is also not complete. For example, for any 
integer $n\geqslant 1$, the sequence 
\[
  n,n^p,n^{p^2},n^{p^3},\dots
\]
is Cauchy, and (if $p$ is odd) it does not converge in $\bQ$ when we set 
$n=p-1$. Alternatively, it is known that any complete metric space without 
isolated points is uncountable; since $\bQ$ is countable, it cannot be complete 
in any non-discrete topology. 
\end{example}

\begin{definition}
Let $(K,|\cdot|)$ be a field with absolute value. A \emph{completion} of 
$(K,|\cdot|)$ is tuple $(K',|\cdot|',i)$, where 
\begin{enumerate}
\item $(K',|\cdot|')$ is a complete field, 
\item $i\colon K\hookrightarrow K'$ is an isometry 
(i.e.~$|x|=|i(x)|'$ for all $x\in K$), and 
\item for any isometry $j\colon K\hookrightarrow F$ from $K$ into a complete field 
$(F,|\cdot|'')$, there exists a unique isometry $i'\colon K'\hookrightarrow F$ 
such that the following diagram commutes:
\[
\begin{tikzcd}
  K \ar[r, "i"] \ar[dr, "j"]
    & K' \ar[d, "i'", dotted] \\
  & F .
\end{tikzcd}
\]
\end{enumerate}
\end{definition}

So a completion is an embedding of $K$ into a complete field that is 
``initial'' among such embeddings. Standard arguments show that the completion 
of $K$ is uniquely determined by the universal property. 

\begin{theorem}\label{thm:existence-completion}
Let $K$ be a field with absolute value $|\cdot|$. Then: 
\begin{enumerate}
\item A completion $(K',|\cdot|',i)$ of $K$ exists.  
\item $i(K)$ is dense in $K'$.
\item $|\cdot|$ is non-archimedean if and only if $|\cdot|'$ is non-archimedean.  
\item If $|\cdot|$ is non-archimedean, then 
\[
  |K^\times| = \{|x|\colon x\in K^\times\} = |{K'}^\times|' .
\]
\end{enumerate}
\end{theorem}
\begin{proof}
1, 2 are classical. Construct $K'$ as the quotient of the ring of Cauchy 
sequences by the (maximal) ideal of nullsequences. 

3. Obvious corollary of \autoref{thm:non-arch-characterization}. 

4. Roughly: suppose $x\in K'$ is written $x=\lim x_n$, for $\{x_n\}$ a Cauchy 
sequence in $K$. Then $|x|'=\lim |x_n|$. For $m,n\gg 0$, we have 
$|x_n-x_m|<|x|/2<|x_n|$. By \autoref{lem:abs-value-of-difference}, this can 
only happen if $|x_n|=|x_m|$. So the sequence $\{|x_n|\}$ stabilizes. 
\end{proof}

It is true (though we will not prove) that if $K\hookrightarrow K'$ is 
\emph{any} isometry from $K$ to a complete field with dense image, then $K'$ is 
a completion of $K$. 

Part 4 clearly fails when passing from $\bQ$ to $\bR$. On the other hand, now 
we know that $\bQ_p$ has ``no new absolute values.'' 





\subsection{The \texorpdfstring{$p$}{p}-adics}

For each prime $p$, we write $\bQ_p$ for any completion of $\bQ$ with respect 
to $|\cdot|_p$; we call $\bQ_p$ the \emph{field of $p$-adic numbers}. Define 
\begin{align*}
  \bQ_p^\circ = \bZ_p &= \{x\in \bQ_p\colon |x|\leqslant 1\} \\
  \bQ_p^{\circ\circ} = \fm &= \{x\in \bQ_p\colon |x|<1\} .
\end{align*}
One calls $\bZ_p$ the ring of \emph{$p$-adic integers}. One has 
$\bZ_p/\fm\simeq \bF_p$. Choose a 
set $S=\{\alpha_0,\dots,\alpha_{p-1}\}$, where $\alpha_i$ is a $p$-adic integer 
such that $\alpha_i\equiv i\pmod p$. We could use $S=\{0,\dots,p-1\}$, but 
there are better choices (e.g. Teichm\"uller representatives). Then some 
elementary work shows that every $\alpha\in \bQ_p$ has exactly one 
representative Cauchy sequence $\{a_i\}$, where 
\[
  a_i = b_0 p^{-m} + b_1 p^{-(m-1)} + \cdots + b_{i-1} p^{i-1-m} ,
\]
where the $b_j\in S$. 

\begin{example}
Work in $\bQ_3$ and let $S=\{0,1,2\}$. One such sequence is: 
\begin{align*}
  a_1 &= 1 \\
  a_2 &= 1+0\cdot 3 \\
  a_3 &= 1+0\cdot 3+2\cdot 3^2 \\
  a_4 &= 1+0\cdot 3+3\cdot 3^2 + 1\cdot 3^3 \\
  \vdots &
\end{align*}
\end{example}

Given a representation 
\[
  a = b_0 p^{-m} + b_1 p^{-(m-1)} + \cdots ,
\]
where $b_0\ne 0$, one can check that $|a|_p = p^m$. 

The field $\bQ_p$ is complete, totally disconnected, but not algebraically 
closed. An abstract algebraic closure $\overline{\bQ_p}$ exists. However, 
unlike the passage from $\bR$ to $\bC$, the extension $\overline{\bQ_p}/\bQ_p$ 
is \emph{not} finite. Moreover, $\overline{\bQ_p}$ is not complete with respect 
to the unique absolute value extending the one on $\bQ_p$. Let 
$\bC_p=\widehat{\overline{\bQ_p}}$; here we we are lucky and $\bC_p$ is 
algebraically closed. The field $\bC_p$ is the $p$-adic analogue of $\bC$. 





\subsection{Absolute values and field extensions}

A field extension is naturally a vector space over the base field, so our 
first results will be in the more general context of vector spaces over 
normed fields. 

\begin{definition}
Let $K$ be a field with absolute value $|\cdot|$, $V$ be a vector space over 
$K$. A \emph{($K$-vector space) norm} on $V$ is a map 
$\|\cdot\|\colon V\to \bR$, satisfying: 
\begin{enumerate}
\item 
$\|v\|\geqslant 0$ for all $v\in V$, with equality if and only if $v=0$. 

\item
$\|c v\| = |c|\|v\|$ for all $c\in K$, $v\in V$. 

\item
$\|v+w\|\leqslant \|v\|+\|w\|$ for all $v,w\in V$. 
\end{enumerate}
\end{definition}

We get in the natural way a metric (hence topology) on $V$. Thus concepts like 
completeness and completion make sense. The whole machinery of 
\autoref{sec:completion} carries through. 

Two norms $\|\cdot\|_1$, $\|\cdot\|_2$ induce some topology if and only if 
\[
  c_2 \|\cdot\|_2 \leqslant \|\cdot\|_1 \leqslant c1 \|\cdot\|_2 ,
\]
for some $c_1,c_2>0$. We call such norms \emph{equivalent}. 
In classical linear algebra, one often rescales vectors 
to make them have norm one. Here, if $v\in V$, we might not be able to 
rescale $v$ to get $\|cv\|=1$. This is because $\{|c|\colon c\in K^\times\}$ 
can be a proper subgroup of $\bR^{>0}$. 

\begin{example}
Fix a basis $B=\{v_1,\dots,v_d\}$ of $V$. Given $x=\sum a_i v_i$, put 
\[
  \|x\|_{\sup,B} = \|x\|_{\max,B} = \max_{1\leqslant i\leqslant d} |a_i| .
\]
It is easy to show that this actually is a norm. If $K$ is complete with 
respect to $|\cdot|$, then $(V,\|\cdot\|_{\max})$ is also complete. If 
$|\cdot|$ is non-archimedean, then 
\[
  \|v+w\|_{\max} \leqslant \max\{\|v\|_{\max},\|w\|_{\max}\} .
\]
Finally, the max norm with respect to different bases are equivalent. 
\end{example}

\begin{theorem}\label{thm:unique-norm-vect}
If $K$ is complete with respect to $|\cdot|$ and $V$ is finite-dimensional over 
$K$, then all $K$-vector space norms on $V$ are equivalent. Moreover, $V$ is 
also complete, all vector subspaces are closed, and if $|\cdot|$ is 
non-archimedean, then $\|\cdot\|$ is also non-archimedean, in the weaker sense 
that 
\[
  \|v+w\| \leqslant C\max\{\|v\|,\|w\|\} ,
\]
for some fixed $C$. 
\end{theorem}
\begin{proof}
Fix a basis $B=\{v_1,\dots,v_d\}$ of $V$. Given any norm $\|\cdot\|$ on $V$, we 
show it's equivalent to $\|\cdot\|_{\max,B}$. One direction doesn't use 
completeness: 
\begin{align*}
  \|x\| 
    &= \left\|\sum a_i v_i\right\| \\
    &\leqslant \sum |a_i| \|v_i\| \\
    &\leqslant d \max_i \|v_i\| \max_ii |a_i| .
\end{align*}
Put $C_1=d \max\{v_i\}$; this yields 
$|\cdot|\leqslant C_1 \|\cdot\|_{\max,B}$. To show that 
$\|\cdot\|_{\max}\leqslant C_2\|\cdot\|$, we induct on $d=\dim(V)$. For $d=1$, 
the result is immediate: just observe $\|v\|=|a_1|\|v_1\|$. 
If $d>1$, we may assume that all proper subspaces of $V$ are complete. General 
nonsense tells us that subspaces are closed. Let $H_i=\sum_{j\ne i} K v_j$. 
Let $\pi_i\colon V\to V/H_i = L_i$ be the projection map. Define a new norm on $L_i$ 
by 
\[
  \|u\|_i = \inf\{\|v\|\colon \pi_i(v)=u\} .
\]
Since $H_i$ is closed, $\|u_i\|=0$ implies $u\in H_i$. For $v=\sum a_i v_i$, 
we have $\pi_i(v)=a_i \pi_v(v_i)$. Note that 
$\|\pi_i(v)\|_i = |a_i| \|\pi_i(v_i)\|_i$, which implies 
\[
  \frac{\|\pi_i(v)\|_i}{\|\pi_i(v_i)\|_i} \leqslant \frac{\|v\|}{\|\pi_i(v_i)\|_i} \leqslant B_i \|v\| ,
\]
where $B_i=\|\pi_i(v_i)\|_i^{-1}$. Put $C_2=\max\{B_i\}$. 
\end{proof}

The moral of the story is that finite-dimensional vector spaces over a complete 
field carry a unique topology. 

\begin{theorem}\label{thm:extend-absolute-value}
Let $K$ be a field complete with respect to $|\cdot|$. Let $L/K$ be an 
extension. 
\begin{enumerate}
\item 
There is exactly one extension of $|\cdot|$ to an absolute value $|\cdot|'$ on 
$L$. Moreover, $|\cdot|'$ is non-archimedean if and only if $|\cdot|$ is 
non-archimedean. 

\item
If $[L \colon K]<\infty$, then $(L,|\cdot|')$ is complete. If $K$ is 
non-archimedean, then for all $x\in L$, 
\begin{equation}\label{eq:extend-norm}
  |x|' = \left|\norm_{L/K}(x)\right|^{\frac{1}{[L\colon K]}} .
\end{equation}
\end{enumerate}
\end{theorem}
\begin{proof}
1. That there is \emph{at most} one extension follows almost immediately from 
\autoref{thm:unique-norm-vect}. The field $L$ is a direct limit of finite 
extensions, so we may as well assume $L$ is a finite extension of $K$. Since 
$L$ is a finite-dimensional $K$-vector space, it has a unique topology 
induced by vector space norm. Since $K$ is complete, $L$ is also complete. Let 
$|\cdot|_1$ and $|\cdot|_2$ be two norms on $L$. If the topology induced 
by $|\cdot|_1$, then everything in sight is discrete. If $|\cdot|_1$ induces 
a non-discrete topology, then by \autoref{thm:field-equiv-abs}, 
$|\cdot|_1=|\cdot|_2^e$ for some $e$. Restricting to $K$, we see that $e=1$. 

2. Recall that for $x\in L$, the map ``multiply by $x$'' is a $K$-linear map 
$(x\cdot)\colon L\to L$. The \emph{norm} of $x$ is by definition 
$\norm_{L/K}(x)=\det(x\cdot)$. It's not easy to show that 
\eqref{eq:extend-norm} satisfies the triangle inequality. (One uses Hensel's 
lemma to show that $\norm_{L/K}(x)\in K^\circ$ if and only if 
$x\in L^\circ$.)
\end{proof}

It is easy to show that \eqref{eq:extend-norm} is the only possible extension 
of a norm, using the Galois definition of the norm. Abstract nonsense reduces 
us to the case where $L/K$ is finite Galois. In this case, we know that 
\[
  \norm_{L/K}(x) = \prod_{\sigma\in \galois(L/K)}\sigma(x) .
\]
It follows that 
\begin{align*}
  |\norm_{L/K}(x)| 
    &= |\norm_{L/K}(x)|' \\
    &= \prod_{\sigma\in \galois(L/K)} |\sigma(x)|' \\
    &= {|x|'}^{[L\colon K]} .
\end{align*}
The last equality holds because $|\sigma(x)|'=|x|'$ for all $\sigma$. 

\begin{example}
Let $\bQ_p$ be the completion of $\bQ$ with respect to the $p$-adic absolute 
value $|\cdot|_p$. By \autoref{thm:extend-absolute-value}, 
$\overline{\bQ_p}$ carries a unique extension of $|\cdot|_p$; the set 
$|\overline{\bQ_p}^\times|\subset \bR^{>0}$ is dense!
\end{example}

In general, if $K$ is a complete non-archimedean field, then its algebraic 
closure $\overline K$ will not be complete. The only exception is when 
$\overline K=\bC$.

\begin{theorem}[Gelfand, Mazur]\label{thm:Gelfand-Mazur}
The only complete archimedean fields are $(\bR,|\cdot|_\infty^e)$ and 
$(\bC,|\cdot|_\infty^e)$ for $0\leqslant e<1$. 
\end{theorem}
\begin{proof}
This is \cite[1.2.4]{engler-prestel}. If $(K,|\cdot|)$ is a complete 
archimedean field, then $K$ has characteristic zero, so $\bQ\hookrightarrow K$. 
The absolute value $|\cdot|$ restricted to $\bQ$ is archimedean, so by 
\autoref{thm:ostrowski}, $|\cdot|=|\cdot|_\infty^e$ on $\bQ$ for some 
$0<e\leqslant 1$. By the universal property of (metric) completion, we get a 
continuous embedding $\bR\hookrightarrow K$. By \autoref{cor:exts-of-R}, 
$K=\bR$ or $K=\bC$. 
\end{proof}

\begin{corollary}
If $(K,|\cdot|)$ is an archimedean field, then $K$ admits a dense isometry 
into either $\bR$ or $\bC$. 
\end{corollary}

\begin{lemma}\label{lemma:spec-Banach}
Let $A$ be a commutative Banach $\bR$-algebra containing $\bC$. For every 
$a\in A$, the set $\{c\in \bC\colon a-c\notin A^\times\}$ is compact and 
nonempty. 
\end{lemma}
\begin{proof}
To show that the set, known as the \emph{spectrum} of $a$, is nonempty, 
one uses the map $\bC\to A$ given by $c\mapsto (a-c)^{-1}$. For details, see 
\cite[18.6]{rudin-1987}. 
\end{proof}

\begin{corollary}\label{cor:exts-of-R}
Let $(K,|\cdot|)$ be an extension of $(\bR,|\cdot|_\infty)$. Then either 
$K=\bR$ or $K=\bC$. 
\end{corollary}
\begin{proof}
If $K$ contains $\bC$, then applying \autoref{lemma:spec-Banach} shows that 
$K=\bC$. If $K$ does not contain any such $j$, the field $K(\sqrt{-1})$ must be 
$\bC$, hence $K=\bR$. 
\end{proof}

If $(K,|\cdot|)$ is a non-archimedean field which is \emph{not} complete, and 
$L/K$ is an algebraic extension, how can we extend $|\cdot|$ to $L$? 

\begin{theorem}
Let $(K,|\cdot|)$ be a non-archimedean field, $L/K$ an algebraic extension. 
Then $|\cdot|$ admits an extension to $L$. 
\end{theorem}
\begin{proof}
Let $\widehat K$ be the completion of $K$; it carries a unique extension 
of $|\cdot|$. Let $\overline{\widehat K}$ be an algebraic closure of 
$\widehat K$; this also carries a unique extension of $|\cdot|$. Since $L/K$ is 
algebraic, we have an embedding $i:L\hookrightarrow \overline{\widehat K}$. The 
pullback via $i$ of the absolute value on $\overline{\widehat K}$ is an 
extension of $|\cdot|$ to $L$. 
\end{proof}

\begin{theorem}[Krasner]\label{thm:krasner}
Let $K$ be an algebraically closed field with absolute value $|\cdot|$. Then 
$\widehat K$ is also algebraically closed. 
\end{theorem}
\begin{proof}
This works via ``continuity of roots.'' Let $L$ be an algebraic closure of 
$\widehat K$. We want to prove that $L=\widehat K$. Let $f\in \widehat K[x]$; 
write $f=\sum_{i=0}^n c_i x^i$ with $c_n=1$. Let $\alpha\in L$ be a root of 
$f$, i.e.~$f(\alpha)=0$. It suffices to show that $\alpha$ can be approximated 
by elements $\beta_i\in K$ (so $\alpha=\lim \beta_i\in \widehat K$). Fix 
$\epsilon>0$. We may choose $d_i\in K$ approximating the coefficients 
$c_i\in \widehat K$, so that $g=\sum d_i x^i\in K[x]$ is monic and satisfies 
$|g(\alpha)|\leqslant \epsilon^n$. Since $K$ is algebraically closed, we have a 
factorization $g=\prod (x-\beta_i)$, so 
\[
  |g(\alpha)| = \prod_{i=1}^n |\alpha-\beta_i| \leqslant \epsilon^n .
\]
So at least one $\beta_i$ satisfies $|\alpha-\beta_i|\leqslant \epsilon$. 
\end{proof}

We mentioned that earlier that $(\bQ,|\cdot|_p)$ is not complete. There is an 
explicit, algorithmic way to show this. One shows that if $(\bQ,|\cdot|_p)$ 
were complete, then all $(p-1)$-st roots of unity would lie in $\bQ$, which is 
not the case, at least if $p\geqslant 5$. The general technique relies on the 
isomorphism $\bZ_p=\varprojlim \bZ/pie$, and uses Hensel's Lemma to construct 
compatible sequences $\{a_i\mod{p^i}\}$. This is done very nicely in 
\cite[3.2.3]{gouvea-1997}. 

For any non-archimedean field $K$, we have a sequence of embeddings:
\begin{equation}\label{eq:completion-closure}
  K \hookrightarrow 
  \widehat K \hookrightarrow 
  \overline{\widehat K} \hookrightarrow 
  \widehat{\overline{\widehat K}} .
\end{equation}
Each field has a canonical (unique) extension of the absolute value $|\cdot|$ 
of $K$. We denote these absolute values by $|\cdot|$ as well. One might wonder 
if the process of passing to algebraic closure and them completion can be 
repeated indefinitely. By \autoref{thm:krasner}, the sequence 
\eqref{eq:completion-closure} is is as far as we need to go: the field 
$\widehat{\overline{\widehat K}}$ is as far as we need to go. One thing to be 
careful of: the value group stays the same in the first and third embeddings 
\eqref{eq:completion-closure}, but 
$|\overline{\widehat K}^\times|$ may be strictly larger than 
$|\widehat K^\times|$. 

\begin{example}
For $(\bQ,|\cdot|_p)$, we get the following chain of embeddings:
\[
  \bQ\hookrightarrow \bQ_p \hookrightarrow \overline{\bQ_p} \hookrightarrow \widehat{\overline{\bQ_p}} = \bC_p .
\]
The field $\bC_p$ is the ``$p$-adic analogue of $\bC$.'' See the book 
\cite{koblitz-1984} for a careful explanation of each step. 
\end{example}

\begin{definition}
Let $K$ be any field. The \emph{field of Puiseaux series} over $K$, is 
\[
  K\puiseaux{t} = \left\{\sum_{k=k_0}^\infty a_i t^{k/n}\colon n\in \bZ^{>0}\right\} .
\]
That is, elements consist of formal sums $\sum_{r\in \bQ} a_r t^r$ such that 
the set $\{r\colon a_r\ne 0\}$ is bounded below and an element of some 
$\bZ[\frac 1 n]$. Alternatively, 
\[
  K\puiseaux{t} = \varinjlim_n K\laurent{t^{1/n}} .
\]
\end{definition}

\begin{theorem}[Newton]
If $K$ is algebraically closed of characteristic zero, then 
$K\puiseaux{t} = \overline{K\laurent{t}}$. 
\end{theorem}

Newton proved this theorem by creating an early version of what is now called 
\emph{Newton's method}. Thus we have a sequence of embeddings 
\[
  K(t)\hookrightarrow 
  K\laurent{t} \hookrightarrow 
  K\puiseaux{t} \hookrightarrow 
  \widehat{K{\puiseaux{t}}} ,
\]
in which the last field is known as the field of \emph{formal Puiseaux 
series}. It is sometimes written $K\laurent{t^\bQ}$. For a proof of Newton's 
theorem, see \cite[Cor.~13.15]{eisenbud-1995}. 

\begin{definition}
Let $(K,|\cdot|)$ be a non-archimedean field. Put 
\begin{align*}
  K^\circ &= \{x\in K\colon |x|\leqslant 1\} && \text{``valuation ring''} \\
  K^{\circ\circ} &= \{x\in K\colon |x|<1\} && \text{``(unique) maximal ideal''} \\
  K^\natural &= K^\circ / K^{\circ\circ} && \text{``residue (class) field''} .
\end{align*}
\end{definition}

Note that the non-archimedean triangle inequality implies that 
$K^\circ$ actually is a ring. One often puts $R=K^\circ$; this is a local ring 
with maximal ideal $\fm=K^{\circ\circ}$ and residue field $K^\natural=R/\fm$. 
All the assignments $(-)^\circ$, $(-)^{\circ\circ}$, and $(-)^\natural$ are 
functorial. 

\begin{lemma}
Let $(K,|\cdot|)$ be a non-archimedean field. Then the embedding 
$K\hookrightarrow \widehat K$ induces an isomorphism 
$K^\natural\xrightarrow\sim\widehat K^\natural$.
\end{lemma}
\begin{proof}
It is trivial to check that: 
\begin{align*}
  K^\circ &= \widehat K^\circ\cap K \\
  K^{\circ\circ} &= \widehat K^{\circ\circ}\cap K .
\end{align*}
This gives us a well-defined map $K^\circ\to \widehat K^\natural$, namely 
$a\mapsto a+\widehat K^{\circ\circ}$. It has kernel $K^{\circ\circ}$, so we get 
an embedding $K^\natural\hookrightarrow \widehat K^\natural$. To see that this 
map is surjective, note that for any $x\in \widehat K^\circ$, the set 
$x+\widehat K^{\circ\circ}$ is an open set in $\widehat K$. Since $K$ is dense 
in $\widehat K$, there is some $y\in (x+\widehat K^{\circ\circ})\cap K$; then 
$y\mapsto x+\widehat K^{\circ\circ}$. 
\end{proof}

\begin{definition}
Let $L/K$ be an arbitrary extension of fields with absolute value. If 
$|K^\times|=|L^\times|$ and $K^\natural\xrightarrow\sim L^\natural$, we say $L$ 
is an \emph{immediate extension} of $K$.  
\end{definition}

\begin{example}
If $K$ is any non-archimedean field, then $\widehat K$ is an immediate 
extension of $K$. 
\end{example}

\begin{definition}
We say a field $(K,|\cdot|)$ is \emph{maximally complete} if it admits no 
proper immediate extensions. 
\end{definition}

\begin{definition}
Let $(X,d)$ be a metric space. We say $X$ is \emph{spherically complete} if, 
whenever $\{D_i\}_{i\in I}$ is a nested set of closed disks (i.e.~each 
$D_i=\disk(a_i,r_i)=\{x\in X:d(x,a_i)\leqslant r_i\}$ for some $a_i,r_i$, and 
for any $i,j$, either $D_i\subset D_j$ or $D_j\subset D_i$), then 
$\bigcap_i D_i\ne\varnothing$. 
\end{definition}

It turns out that spherical completeness is important for functional analysis. 
For example, the proof of the Hahn-Banach theorem requires spherical 
completeness. As an easy exercise, show that a spherically complete metric 
space is complete. 

\begin{example}
The fields $(\bR,|\cdot|_\infty)$ and $(\bC,|\cdot|_\infty)$ are spherically 
complete. 
\end{example}

\begin{example}
The field $(\bC_p,|\cdot|_p)$ is \emph{not} spherically complete. This is 
non-trivial, and highly frustrating. See Chapter 3 of \cite{robert-2000} for an 
explicit example of a sequence of nested disks in $\bC_p$ with empty 
intersection. 
\end{example}

\begin{theorem}
A non-archimedean field is spherically complete if and only if it is 
maximally complete. 
\end{theorem}

For a good general discussion of spherically complete fields, see Chapter 2 of 
\cite{narici-beckenstein-bachman}. This theorem is a combination of results on 
p.~34 and 43 of that book. 

\begin{theorem}[Krull]
All valued fields have a maximally complete extension. 
\end{theorem}

This proved on p.~54 of \cite{narici-beckenstein-bachman}. 

\begin{theorem}
All non-archimedean fields can be embedded into a spherically complete 
extension with the same value group and residue field. 
\end{theorem}

\begin{example}
Let's apply the above results to $\bC_p$. We get an algebraically closed, 
spherically complete extension of $\bQ_p$. Denote this by $\bQ_p^\odot$
\end{example}

We would like some notion of uniqueness for maximally complete extensions. 
Sadly, this doesn't work in general. 

\begin{theorem}[Kaplansky]
If $K^\natural$ is characteristic zero, there is a unique maximal extension. 
\end{theorem}

So this can't be applied to $\bQ_p$. See Chapter 3 of \cite{robert-2000} for 
a construction using ultraproducts. He ends up with a field $\Omega_p$ which 
contains $\bC_p$, is spherically complete and algebraically closed. Moreover, 
$|\Omega_p|=\bR^{\geqslant 0}$, as opposed to $|\bC_p^\times|=p^\bQ$. As a 
field, $\bC\simeq \bC_p$. This is a special case of the general theorem that 
the isomorphism of an uncountable algebraically closed field depends only on 
its cardinality (the theory of such fields is \emph{categorical}). See 
\S 3.5 of \cite{robert-2000}. 

There are more algebraic constructions due to Poonen \cite{poonen-1993} and 
Kedlaya \cite{kedlaya-2001}, which rely on Mal'cev-Neumann rings (or fields of 
Hahn series) and their $p$-adic analogue. We will return to this in a later 
section on arbitrary valuations. 

[Clarifications]

1. Let $K$ be a field. Then the extension $\overline K/K$ is unique up to 
(possibly non-unique) isomorphism. That is, $\overline K$ is a unique 
isomorphism class of extensions of $K$. 

This fails for spherical completions. 

2. The notion of ``immediate extension'' does not make sense for archimedean 
fields. All the notions of $K^\circ$, $K^{\circ\circ}$, $K^\natural$, 
immediate extension, maximally complete, etc.~only make sense for non-archimedean 
$|\cdot|$. 

Krull's proof (that any field can be embedded into a maximally complete 
field) in fact shows that the (maximally complete) field is maximal (in a 
precise sense) among immediate extensions. So every field admits a maximally 
complete immediate extension. 

3. Krasner's theorem tells us that the completion of an algebraically closed 
field is algebraically closed. It is not clear (and possibly not true) that 
every field admits a dense embedding into a spherically complete field. 
[Roberts, chapter 3] constructs a non-immediate algebraically closed spherically 
complete field. Conclusion: Krasner's lemma doesn't (necessarily) hold for 
spherical completion. 





\subsection{Hensel's lemma}

This is the main reason for why $\bQ_p$ is ``easy.'' It reduces problems from 
$K$ to (purely algebraic) problems in $K^\natural$. Since 
$\bQ_p^\natural=\bF_p$, this generally makes a problem effectively computable. 

Let $(K,|\cdot|)$ be a complete non-archimedean field. We have a natural map 
$K^\circ[x]\to K^\natural[x]$ denoted $f\mapsto \tilde f$, ``reduce modulo 
$K^{\circ\circ}$.''

\begin{theorem}[Hensel]
Assume $g\in K^\circ[x]$; assume $\tilde g\in K^\natural[x]$ is nonzero. 
Assume $\tilde g=p q$ in $K^\natural[x]$, where 
\begin{itemize}
\item
$p$ is monic, 

\item
$\gcd(p,q)=1$ in $K^\natural[x]$.
\end{itemize}
Then $g=P Q$ in $K^\circ[x]$, where 
\begin{itemize}
\item $P$ is monic, 
\item $\tilde P=p$, $\tilde Q=q$. 
\end{itemize}
\end{theorem}

See \cite{bosch-2014} for a proof. 

The usual proof uses completeness / denseness of $K$ by successively 
approximating $P$ and $Q$. But in fact, completeness / denseness is not the 
core reason for the truth of this theorem! There is a general notion of 
completion for arbitrary (higher rank) valuation rings, and in this context the 
standard Hensel's lemma can fail. It is replaced by something called the 
``henselization'' of a ring. We will see more about this in [later section]. 

\begin{corollary}\label{cor:integral-norm}
Let $L/K$ be an algebraic extension. Then $\alpha\in L$ is integral over 
$K^\circ$ if and only if $\norm_{K(\alpha)/K}(\alpha)\in K^\circ$. 
\end{corollary}

The proof is in \cite{bosch-2014}. In this generality, one needs Hensel's lemma 
for the proof. We can now prove that the extension of a complete absolute 
value $|\cdot|$ on $K$ to $L$ via 
\[
  |\alpha|' = |\norm_{K(\alpha)/K}(\alpha)|^{\frac{1}{[K(\alpha)\colon K]}} ,
\]
satisfies the non-archimedean triangle inequality: 
\[
  |\alpha+\beta|'\leqslant \max\{|\alpha|',|\beta|'\} .
\]
We may assume $|\beta|'\geqslant |\alpha|'$. Dividing by $\beta$, it comes 
down to showing that $|1+\gamma|'\leqslant 1$ whenever $|\gamma|\leqslant 1$. 
In light of \autoref{cor:integral-norm}, this is now obvious. 

\begin{corollary}
Let $(K,|\cdot|)$ be a complete non-archimedean field, $f\in K^\circ[x]$ 
nonzero. Assume there is $\tilde a\in K^\natural[x]$ such that $f(\tilde a)=0$, 
but $f'(\tilde a)\ne 0$. Then there exists $a\in K^\circ$ such that 
$a\equiv \tilde a\mod{K^{\circ\circ}}$ and $f(a)=0$. 
\end{corollary}

For $K=\bQ_p$, this means that given $f\in \bZ_p[x]$ with a non-repeated root 
$a$ modulo $p$, then $f$ has a root in $\bZ_p$. A direct proof works via a 
$p$-adic version of Newton's algorithm (with guaranteed solution). This is 
done very nicely in \cite{gouvea-1997}. 





\subsection{Newton's method}

This is really zero-dimensional tropical geometry. Let $(K,|\cdot|)$ be a 
complete non-archimedean field. Let $f=\sum a_n x^n\in K[x^{\pm 1}]$ be a 
Laurent polynomial of degree $d$. Let 
$\lambda_1,\dots,\lambda_d\in \overline K$ be the roots of $f$. (Formally, 
we're looking at the scheme $\spec(k[x^{\pm 1}]/f)$.) Put 
$\valuation(\cdot)=-\log|\cdot|$. The set 
\[
	\{\valuation(\lambda_1),\dots,\valuation(\lambda_d)\} 
\]
can be described combinatorially. Write $\newtonpolygon(f)$ for the lower 
convex hull of the set of points $\{n,\valuation(a_n)\}\subset \bR^2$. This is 
the \emph{Newton Polygon} of $f$. 

\begin{theorem}
Let $f$ be as above. Then 
\begin{enumerate}
\item
$-r$ is a slope in $\newtonpolygon(f)$ if and only if $f$ has a root $\lambda$ 
with $\valuation(\lambda)=r$. 

\item
The number of $\lambda$ with $\valuation(\lambda)=r$ is the length of the 
projection onto the $x$-axis of the line segment with slope $-r$. 
\end{enumerate}
\end{theorem}
\begin{proof}
Use the fact that each $a_i$ is an elementary symmetric function of the 
$\lambda_j$s,together with the non-archimedean triangle inequality. For 
example, when $x^2+b x+c=(x-\lambda_1)(x-\lambda_2)$, we have 
\begin{align*}
  b &= -(\lambda_1+\lambda_2) \\
  c &= \lambda_1 \lambda_2 .
\end{align*}
\end{proof}

\begin{example}
Consider the polynomial $f(x)=x^2-(p+1)x+p\in \bQ_p[x]$. Normalize our 
valuation by $\valuation(p)=1$ and $|p|_p=1/p$. Then $\newtonpolygon(f)$ is the 
lower convex hull of $\{(0,1),(1,0),(2,0)\}$. This has slopes $-1$ and $0$, 
each of length $1$, so $f$ has one root of valuation $0$ and $1$, respectively. 
Of course, the roots are $1$ and $p$, so we already knew this. 
\end{example}

As an exercise, prove Eisenstein's criterion for irreducibility using Newton's 
Method. 

Newton's method can be generalized to convergent power series in more than one 
variable. This has seen many applications, e.g.~to abelian varieties. 





\subsection{Arbitrary valuations}

This theory was initiated by Krull in the 1930s. As motivation: if 
$(K,|\cdot|)$ is a non-archimedean field, the absolute value took values in 
$\bR^{\geqslant 0}$. More precisely, $|\cdot|\colon K^\times \to \bR^{>0}$ is 
a group homomorphism. We could just as well have used 
$\valuation(\cdot)=-\log_a|\cdot|$; the topology does not depend on the choice 
of base $a$. 

So we have a function $\valuation\colon K \to \bR\cup\{\infty\}$ such that 
\begin{enumerate}
\item
$\valuation(x)=\infty$ if and only if $x=0$, 

\item
$\valuation(x y) = \valuation(x)+\valuation(y)$, and 

\item
$\valuation(x+y)\geqslant \min\{\valuation(x),\valuation(y)\}$. 
\end{enumerate}
We have the \emph{valuation ring} given by 
\[
  K^\circ = \{x\in K\colon \valuation(x) \geqslant 0\} ,
\]
with maximal ideal $\{x\in K\colon \valuation(x)>0\}$ and residue field 
$K^\natural=K^\circ/K^{\circ\circ}$. Krull's idea was that there is nothing 
special about $\bR$, all we need is to be able to ``add valuations'' and 
``compare valuations.'' He replaced $(\bR,+,\leqslant)$ with an arbitrary 
totally ordered abelian group $(\Gamma,+,\leqslant)$. (The order $\leqslant$ is 
required to be total and compatible with $+$ in the sense that 
$\alpha\leqslant\beta\Rightarrow\gamma+\alpha\leqslant \gamma+\beta$.)

\begin{definition}
Let $K$ be a field. A \emph{valuation} on $K$ (with value group $\Gamma$) is a 
function $\valuation\colon K\twoheadrightarrow \Gamma\cup\{+\infty\}$ such that 
\begin{enumerate}
\item
$\valuation(x)=+\infty$ if and only if $x=0$, 

\item
$\valuation(x y) = \valuation(x)+\valuation(y)$, and 

\item
$\valuation(x+y)\geqslant \min\{\valuation(x),\valuation(y)\}$. 
\end{enumerate}
\end{definition}

\begin{example}
Let $(K,|\cdot|)$ be a non-archimedean field. Then 
$\valuation(\cdot)=-\log|\cdot|$ gives $K$ a valuation with $\Gamma$ a subgroup 
of $\bR$. 
\end{example}

As an exercise, compute $\bQ^\circ$ for $|\cdot|_p$. 

\begin{example}
Let $\Gamma=\bZ\times\bZ$ with the lexicographic order. Put a valuation on 
$k\laurent{x,y}$ by setting 
\[
  \valuation\left(\sum a_{m,n} x^m y^n\right) = \min\{(m,n)\in \Gamma\colon a_{m,n}\ne 0\} .
\]
It is a good exercise to check that this actually is a valuation. 
\end{example}

Any field with valuation can be given a Hausdorff topology in a functorial way. 
We can't do this in the naive way via metrics, because a valued field 
$(K,\valuation)$ doesn't have an absolute value. But formally, the construction 
works the same way. Briefly, we give $K$ the topology whose basis consists of 
open sets of the form 
\[
  U_\gamma(a) = \{b\in K\colon \valuation(b-a)>\gamma\} .
\]
It's easy to check that $\{U_\gamma(a)\colon a\in K,\gamma\in \Gamma\}$ form 
the basis of a Hausdorff topology. The group $\Gamma=0$ if and only if all 
$U_\gamma(a)=\{a\}$, which is equivalent to the topology being discrete. 

We call two valuations $\valuation_1,\valuation_2$ on $K$ \emph{equivalent} if 
there is an isomorphism of value groups 
$\phi\colon\Gamma_1\xrightarrow\sim\Gamma_2$ such that 
$\valuation_2 = \phi\circ\valuation_1$. Clearly equivalent valuations induce 
the same topology on $K$. 

There is a weaker notion of ``equivalence,'' namely ``inducing the same 
topology.'' Unfortunately, it does not coincide with equivalence. Rather, we 
have the following 

\begin{theorem}
Let $\valuation_1,\valuation_2$ be valuations on $K$ with valuation rings 
$K^{\circ,1}$ and $K^{\circ,2}$. Then $\valuation_1$ and $\valuation_2$ induce 
the same topology on $K$ if and only if the subring of $K$ generated by 
$K^{\circ,1}$ and $K^{\circ,2}$ is strictly smaller than $K$. 
\end{theorem}
\begin{proof}
This is \cite[2.3.4]{engler-prestel}. 
\end{proof}

Alternatively, $\valuation_1$ and $\valuation_2$ induce different topologies if 
and only if $K^{\circ,1}K^{\circ,2} = K$. It turns out that all ``reasonable'' 
topologies on a field come from valuations, in the following sense. 

\begin{definition}
Let $K$ be a field. A \emph{v-topology} on $K$ is a topology $\tau$ on $K$ 
which makes $K$ into a Hausdorff topological field (i.e., the field operations 
are continuous) such that for all open $U\ni 0$, there exists an open 
$V\ni 0$ such that whenever $x y\in V$, then either $x\in U$ or $y\in U$. 
\end{definition}

Clearly, if $(K,\valuation)$ is a valued field, then the induced topology is 
a v-topology. Indeed, for $U\ni 0$, choose $\gamma\in \Gamma$ such that 
$\{\valuation>\gamma\}\subset U$; then $\{\valuation>2\gamma\}$ works for $V$. 
The converse is a deep theorem.

\begin{theorem}
Let $(K,\tau)$ be a field with a v-topology. Then $\tau$ is induced by either 
an archimedean absolute value or a valuation. 
\end{theorem}
\begin{proof}
This is \cite[B.1]{engler-prestel}.
\end{proof}

Let $(K,\valuation)$ be a valued field; we give it the natural topology. It 
still makes sense to ask whether $K$ is complete, except now completion is 
phrased in terms of filters. Recall, following 
\cite[I \S 6.1]{bourbaki-gentop1} that a set $\fF$ of subsets of a set $X$ is 
a \emph{filter} if 
\begin{enumerate}
\item
(downward closed)
$U\in \fF$ and $U\subset V$ implies $V\in \fF$, 

\item
(intersections)
$U,V\in \fF$ imples $V\cap V\in \fF$. 
\end{enumerate}
Roughly, a filter on $X$ is a set of ``large subsets'' of $X$. The example you 
should keep in mind is: for $x\in X$ an element of a topological space, the 
filter 
\[
  \fF_x = \{U\subset X\colon x\in U\} .
\]
Alternatively, if $\{x_\alpha\}_{\alpha\in I}$ is a sequence in $X$ indexed 
by a directed set $I$, put 
\[
  \fF_{\{x_\alpha\}} = \{U\subset X\colon x_\alpha\in U\text{ for all but finitely many }\alpha\} .
\]
One says a filter $\fF$ \emph{converges} to $x\in X$, written $\fF\to x$, if 
every open $U\ni x$ contains an element of $\fF$. So the filter 
$\fF_{\{x_\alpha\}}\to x$ if and only if for all open $U\ni x$, all but 
finitely many $x_\alpha\in U$. 

If $K$ is a topological field, a filter $\fF$ on $K$ is \emph{Cauchy} if for 
each open $U\ni 0$, there exists $a\in K$ such that $a+U\in \fF$. As an 
exercise, check that the filter $\fF_{\{x_\alpha\}}$ is Cauchy if and only if 
for each $U\ni 0$, there is $\alpha_0\in I$ such that 
$x_\alpha-x_\beta\in U$ for all $\alpha,\beta\geqslant \alpha_0$. Say $K$ is 
\emph{complete} if every Cauchy filter converges to some $x\in K$. 

Just like the classical case, the completion of a topological field makes 
sense. One can do this directly (take the ring of convergent nets modulo nets 
converging to zero), or apply the general machinery of ``uniform completion.'' 

[\ldots not complete: I think this should work, although it doesn't for 
division rings.]

The notions of completeness and completion still make sense (one needs to use 
nets instead of sequences---see [Bourbaki]), but completion is very poorly 
behaved in this generality. [put $\widehat K=$ Cauchy nets / nullsequence]. 
Then $K\hookrightarrow \widehat K$ is a dense immediate extension. However, 
Hensel's lemma might fail for complete fields [Engler?]. 

[Uniform spaces, uniformizable\ldots uniform completion. Fit this into 
context of ``uniform completion'' of Bourbaki. Is the valuation topology 
``uniformizable'' and is the ``valuation completion'' the so-called 
uniform (or Hausdorff) completion?]

Recall that the ``standard'' proof of Hensel's lemma just uses denseness and 
completion. A better field than $\widehat K$ to do arithmetic in is the 
\emph{Henselization} of $K$, denoted $K^\henselization$. It is a field 
containing $K$ for which Hensel's lemma holds, and that is in some sense 
minimal with respect to these properties. 

[Give better definition\ldots mention link to \'etale topology.]

See [Engler+\ldots]

\begin{proposition}
Let $K$ be a valued field. Then 
\begin{enumerate}
\item
$K^\henselization$ exists. 

\item
$K^\henselization/K$ is an algebraic extension, and is unique up to 
valuation-preserving isomorphism. 

\item
The valuation on $K$ admits a canonical extension to $K^\henselization$. 

\item
The extension $K^\henselization/K$ is immediate. 
\end{enumerate}
\end{proposition}

Note that $K$ is \emph{not} necessarily dense in $K^\henselization$. More 
generally, a \emph{Henselian field} is a valued field such that 
[list equivalent definitions]. 





\subsection{Rank of a valuation}

Every valuation has an invariant known as the \emph{rank}. The rank only 
depends on the value group. So, fix a totally ordered abelian group 
$(\Gamma,+,\leqslant)$. Let $\Delta\subset \Gamma$ be a subgroup. We say 
$\Delta$ is \emph{convex} if for any $\delta\in \Delta$, $\gamma\in \Gamma$ 
such that $0\leqslant \gamma\leqslant \delta$, we have $\gamma\in \Delta$. 

Let $\Sigma$ be the collection of all convex subgroups of $\Gamma$. The set 
$\Sigma$ carries a natural ordering via inclusion. It is easy to see that 
$(\Sigma,\subset)$ is totally ordered. The \emph{rank} of $\Gamma$, written 
$\rank(\Gamma)$, is the order-type of $(\Sigma,\subset)$. 

Recall from Cantor that two totally ordered sets have the same 
\emph{order-type} if and only if there is an order-preserving bijection between 
them. 

[Example: $\rank(\bR)=\{0\subset\bR\}=1$]

We will be concerned exclusively with finite order-types, namely those of 
the finite sets $\{0,1,\dots,n\}$. So $\rank(\Gamma)=n$ if and only if there 
are exactly $n$ distinct proper convex subgroups of $\Gamma$. 

So $\rank(\Gamma)=1$ if and only if $0$ is the only convex proper subgroup of 
$\Gamma$. Clearly, every subgroup of $\bR$ (with the obvious ordering) has no 
nontrivial convex subgroup. This follows from the archimedean property of 
$\bR$. The converse holds. 

\begin{theorem}
Let $\Gamma$ be a totally ordered abelian group. Then
$\rank(\Gamma)\leqslant 1$ if and only if $\Gamma$ admits an order-preserving 
embedding into $\bR$. 
\end{theorem}

The rank of $(\Gamma,+,\leqslant)$ depends strongly on the choice of ordering 
$\leqslant$. For example, $(\bZ^2,\leqslant_\mathrm{lex})$ has rank two and is 
discrete, i.e.~it has a minimal positive element. The group 
$\bZ[\sqrt{2}]\subset \bR$ is isomorphic to $\bZ^2$ as an abstract group, but 
has rank one and is not discrete. 

[All nontrivial subgroups of $\bR$ are either lattices (discrete) or dense.]





\subsection{Value groups, valuation rings, and residue fields}

A valuation $\valuation\colon K\to \Gamma\cup\{+\infty\}$ induces a group 
homomorphism $\valuation\colon K^\times \twoheadrightarrow \Gamma$. We call 
$\Gamma=\valuation(K^\times)$ the \emph{value group} of $(K,\valuation)$. 

Define $\rank(\valuation)=\rank(\Gamma)$. 

The valuation ring $K^\circ=\{x\in K\colon \valuation(x)\geqslant 0\}$ depends 
on $\valuation$, but we tacitly exclude this from the notation. 

Note that 
\begin{align*}
  \valuation(1) &= 0 \\
  \valuation(x^{-1}) &= -\valuation(x) \\
  \valuation(-x) &= \valuation(x) \\
  \valuation(x) < \valuation(y) &\Rightarrow \valuation(x+y) = \valuation(x) .
\end{align*}
One has $(K^\circ)^\times = \{x\in K\colon \valuation(x)=0\}$. So 
$K^{\circ\circ}$ is the set of non-units of $K^\circ$. Thus 
$K^{\circ\circ}\subset K^\circ$ is the unique maximal ideal and $K^\circ$ has 
residue (class) field $K^\natural=K^\circ/K^{\circ\circ}$. 

An integral domain $R$ is called a \emph{valuation ring} if for all 
$x\in R_{(0)}=K$, either $x\in R$ or $x^{-1}\in R$. That is, 
$K=R\cup R^{-1}$. Clearly our $K^\circ$ is a valuation ring in this new
sense. Conversely, let $R\subset K$ be a valuation ring (in the new sense). 
Then there exists a canonical valuation on $K$ such that $R=K^\circ$ with 
respect to that valuation. 

\begin{proof}
Let $\Gamma=K^\times/R^\times$; this is an abelian group. Give $\Gamma$ an 
ordering by setting $x R^\times \leqslant y X^\times$ if $y/x\in R$. Check 
that this makes $\Gamma$ a totally ordered abelian group. We define a valuation 
$\valuation\colon K\to \Gamma\cup\{+\infty\}$ by 
\begin{align*}
  \valuation(0) &= +\infty \\
  \valuation(a) &= a R^\times \qquad (a\ne 0) .
\end{align*}
[See exercises in Atiyah-MacDonald.] Check that with this definition, 
$R=K^\circ$. 
\end{proof}

\begin{corollary}
Let $(K,\valuation)$ be a valued field. Then 
$\Gamma\simeq K^\times/K^{\circ\times}$. 
\end{corollary}

[Notation convention, $(X^\spadesuit)^\heartsuit = X^{\spadesuit\heartsuit}$. ]

\begin{example}
Let $R$ be a valuation ring. Then the following are equivalent:
\begin{enumerate}
\item
$R$ is noetherian.

\item
$R$ is a principal ideal ring. 

\item
$R$ is a discrete valuation ring.

\item
$\Gamma\simeq \bZ$. 
\end{enumerate}
Thus valuation rings are very rarely noetherian. 
\end{example}

\begin{example}
The only valuations on $\bQ$ are the $p$-adic ones. These are discrete. 
\end{example}

\begin{example}
On the field $K(x)$, there are 
\begin{enumerate}
\item
$p$-adic valuations, for $p$ an irreducible polynomial in $K[x]$

\item
$\valuation_\infty(f/g)=\deg g-\deg f$, called the \emph{valuation at 
infinity}. We write $K\laurent{x}=\widehat{K(x)}$; one calls the extension 
of $\valuation_\infty$ to $K\laurent{x}$ the \emph{$x$-adic valuation}. 
\end{enumerate}
One can prove that these are the only valuations which are trivial on $K$. 
\end{example}




